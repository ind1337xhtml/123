-- UI Library Module
local UI = {}

-- Function to create a ScreenGui
function UI:createScreenGui(parent, name)
    local screenGui = Instance.new("ScreenGui")
    screenGui.Parent = parent or game.Players.LocalPlayer:WaitForChild("PlayerGui")
    screenGui.Name = name or "ScreenGui"
    screenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    return screenGui
end

-- Function to create a Frame
function UI:createFrame(parent, size, position, bgColor, borderSize)
    local frame = Instance.new("Frame")
    frame.Parent = parent
    frame.Size = size or UDim2.new(0, 200, 0, 100)
    frame.Position = position or UDim2.new(0, 0, 0, 0)
    frame.BackgroundColor3 = bgColor or Color3.fromRGB(33, 33, 33)
    frame.BorderSizePixel = borderSize or 2
    return frame
end

-- Function to create a TextLabel
function UI:createTextLabel(parent, text, font, size, color, position, sizeX)
    local textLabel = Instance.new("TextLabel")
    textLabel.Parent = parent
    textLabel.Text = text or "Text"
    textLabel.Font = font or Enum.Font.SourceSans
    textLabel.TextSize = size or 14
    textLabel.TextColor3 = color or Color3.fromRGB(255, 255, 255)
    textLabel.Position = position or UDim2.new(0, 0, 0, 0)
    textLabel.Size = sizeX or UDim2.new(0, 200, 0, 50)
    textLabel.BackgroundTransparency = 1
    return textLabel
end

-- Function to create an FPS counter TextLabel
function UI:createFpsCounter(parent, position)
    local fpsLabel = self:createTextLabel(parent, "FPS: 0", Enum.Font.SourceSans, 14, Color3.fromRGB(85, 170, 255), position or UDim2.new(0.904, 0, 0, 0))
    local runService = game:GetService("RunService")
    local lastUpdate = tick()
    local frames = 0
    
    runService.RenderStepped:Connect(function()
        frames = frames + 1
        local now = tick()
        if now - lastUpdate >= 1 then
            local fps = math.floor(frames / (now - lastUpdate))
            fpsLabel.Text = "FPS: " .. fps
            frames = 0
            lastUpdate = now
        end
    end)
    return fpsLabel
end

-- Function to create a customizable UI container with a top bar, FPS counter, and a title
function UI:createCustomUI()
    -- Create the main ScreenGui
    local screenGui = self:createScreenGui(game.Players.LocalPlayer:WaitForChild("PlayerGui"), "CustomUI")
    
    -- Create the outer frame
    local outerFrame = self:createFrame(screenGui, UDim2.new(0, 554, 0, 621), UDim2.new(0.293, 0, 0.118, 0), Color3.fromRGB(33, 33, 33), 2)
    
    -- Create the top bar
    local topBar = self:createFrame(outerFrame, UDim2.new(0, 554, 0, 30), UDim2.new(0, 0, -0.062, 0), Color3.fromRGB(33, 33, 33), 2)
    
    -- Create text labels for "Cheats" and "Mango" sections
    self:createTextLabel(topBar, "Cheats", Enum.Font.SourceSans, 14, Color3.fromRGB(255, 85, 255), UDim2.new(0.071, 0, -0.029, 0))
    self:createTextLabel(topBar, "Mango", Enum.Font.SourceSans, 14, Color3.fromRGB(85, 170, 255), UDim2.new(0.008, 0, -0.029, 0))
    
    -- Create FPS counter
    self:createFpsCounter(topBar, UDim2.new(0.904, 0, -0.029, 0))
    
    -- Create additional frames within the UI
    local frame1 = self:createFrame(outerFrame, UDim2.new(0, 543, 0, 53), UDim2.new(0.009, 0, 0.012, 0), Color3.fromRGB(33, 33, 33), 2)
    local frame2 = self:createFrame(outerFrame, UDim2.new(0, 543, 0, 541), UDim2.new(0.009, 0, 0.119, 0), Color3.fromRGB(33, 33, 33), 2)

    return screenGui
end

return UI
